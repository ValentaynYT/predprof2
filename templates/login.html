{% extends "base.html" %}
{% block title %}–í—Ö–æ–¥{% endblock %}
{% block header_title %}–®–∫–æ–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ{% endblock %}
{% block extra_css %}
<style>
    .password-wrapper {
        position: relative;
    }
    .toggle-password {
        position: absolute;
        right: 50px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: #666;
        cursor: pointer;
        font-size: 14px;
        padding: 0;
        margin: 0;
    }
    .card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 24px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        border: 1px solid #e9ecef;
    }
    .card h2 {
        margin-top: 0;
        color: #2c3e50;
    }
    .flash-message {
        padding: 12px;
        margin-bottom: 20px;
        border-radius: 8px;
        font-weight: bold;
        color: white;
    }
    .flash-success { background: #2ecc71; }
    .flash-error { background: #e74c3c; }
    .flash-info { background: #3498db; }
    .flash-warning { background: #f39c12; }

    /* –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é */
    .register-link {
        display: block;
        margin-top: 15px;
        text-align: center;
        color: #4361ee;
        text-decoration: none;
        font-weight: 500;
    }
    .register-link:hover {
        text-decoration: underline;
    }
    .register-link span {
        color: #6c757d;
        font-weight: normal;
    }
</style>
{% endblock %}
{% block content %}
<!-- üì¢ FLASH-–°–û–û–ë–©–ï–ù–ò–Ø -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="flash-message flash-{{ category if category in ['success', 'error'] else 'info' }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
<div class="card">
    <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
    <form method="post">
        <label>Email</label>
        <input name="email" type="email" required>
        <label>–ü–∞—Ä–æ–ª—å</label>
        <div class="password-wrapper">
            <input name="password" type="password" id="login-password" required>
            <button type="button" class="toggle-password" onclick="togglePassword('login-password')">
                üëÅÔ∏è
            </button>
        </div>
        <button>–í–æ–π—Ç–∏</button>
    </form>
    <a href="/register" class="register-link">
        <span>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</span> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
    </a>
</div>
<script>
    function togglePassword(fieldId) {
        const field = document.getElementById(fieldId);
        const button = field.nextElementSibling;
        if (field.type === "password") {
            field.type = "text";
            button.textContent = "üôà";
        } else {
            field.type = "password";
            button.textContent = "üëÅÔ∏è";
        }
    }
</script>
{% endblock %}